<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>绑定手机</title>
    <meta name="format-detection" content="telephone=no, email=no">
    <meta name="HandheldFriendly" content="true">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, initial-scale=1.0, user-scalable=no">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <link rel="stylesheet" href="http://i.gtimg.cn/vipstyle/frozenui/2.0.0/css/frozen.css">
    <link rel="stylesheet" href="js/search/full.css" />
    <link rel="stylesheet" href="css/bindphone.css"/>
    <script type="text/javascript" src="js/jquery-1.8.3.min.js" ></script>
    <script type="text/javascript" src="css/font/iconfont.js" ></script>

    <script type="text/javascript" src="js/rem.js" ></script>
</head>
<body>
<div id="app">
        <div class="head">
    <div class="headTitle">绑定手机</div>
     <div class="back">
                <svg class="icon" aria-hidden="true">
                    <use xlink:href="#icon-back-m"></use>
                </svg>
            </div>
        </div>
        <div class="formBox">
            <div class="ui-form ui-border-t">
                <ul class="ui-list ui-list-single ui-list-link ui-border-tb">
                        <li class="ui-border-t pho">
                            <div class="ui-list-info">
                                <h4 class="ui-nowrap">手机号</h4>
                                <div class="ui-txt-info"></div>
                                <div class="ui-txt-info changephone"> <input type="phone" 
                                    placeholder="请输入要绑定的手机号" 
                                    name=""> 
                                </div>
                            </div>
                        </li>
                          <li class="ui-border-t pho">
                            <div class="ui-list-info">
                                <h4 class="ui-nowrap"><input type="text" name="weCode" class="phoCode"></h4>
                                <div id='message'  class="ui-txt-info changephone" onclick="getCode(this)">{{getCodeMessage}}</div>
                            </div>
                          </li>
                </ul>
                </form>
            </div>
        </div>
        <div class="btn" @click="commit">提交</div>
        <div class="btnd" @click="unbindphe">解绑手机号</div>
    </div>
    <script type="text/javascript">
        function getCode(e){
            var i=60;
            var setinval='';
            if(i>=0){
               var setinval= setInterval(function(){
               $(e).html(i-1);
               i--;
               console.log(i-1);
               },1000)
            }

        }

    </script>
    <script type="text/javascript">
        var vue=new Vue({
            el:'#app',
            data:{
                phone:'',
                getCodeMessage:'获取验证码',
                setvsl:''
            },
            methods:{
                getCode:eve=>{
                    console.log('获取验证码');
                   var self=this;
                    var i=0;
                    this.setvsl=setInterval(function(res){
                        i++;
                      self.getCodeMessage=i;
                      document.getElementById('message').innerhtml=60-i;
                      console.log(60-i);
                      
                    },1000)
                },
                unbindphe:eve=>{
                    console.log('解绑手机号');
                },
                commit:eve=>{
                        console.log('提交信息')
                }
            },
            mounted:function(){
                // if(this.setvsl){
                //     clearInterval(his.setvsl);
                // }
            }


        })
    </script>
</body>
</html>